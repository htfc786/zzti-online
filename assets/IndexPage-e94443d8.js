import{f as k,r as T}from"./random-45c8d78f.js";import{g as S,a as P,c as z,b as B}from"./questions-2439da6f.js";import{g as b,_ as D}from"./index-46711d87.js";import"./index-b70d4d65.js";const E={class:"index"},q={class:"select"},I={style:{display:"flex"}},Q={class:"question"},$=Vue.defineComponent({__name:"IndexPage",setup(R){const _=b(),h=VueRouter.useRouter(),x=S(),g=[1,2,3,5,10,15,20,25,50],V=Vue.ref(!1),n=Vue.ref(["\\"]),d=Vue.ref([]),u=Vue.ref(5),c=Vue.ref(28),l=Vue.ref(!0);var s=[[]];Vue.watch(n,()=>{s=P(n.value)},{immediate:!0}),Vue.watch(n,()=>{_.history.data=s}),Vue.watch(l,()=>{const e=document.querySelector(".index");l.value?e.classList.remove("select_hide"):e.classList.add("select_hide")});const m=()=>{if(u.value==1){h.push("/random");return}V.value=!0,setTimeout(()=>{V.value=!1;const e=T(s,u.value);if(e){if(!e.length){d.value=[],antd.message.error("当前抽取范围不存在或没有题目！");return}e.length<u.value&&antd.message.warning("您要求的题目数量 大于 当前抽取范围全部的题目数量，已自动展示全部题目"),u.value==0&&(u.value=e.length),d.value=e}},600)},p=e=>{u.value=e,m()},N=()=>{let e=_.history;if(!e.data)return;const{pathList:t,error:o,del:r}=z(e.data);o&&(r&&antd.message.warn(`不存在的路径 ${r.join(", ")} ，已自动从历史记录中删除`),e.data=t),e.data.length!=0&&(s=e.data,n.value=B(e.data),antd.message.info("已自动加载上次选择的抽题范围了"))};return Vue.onMounted(()=>{N()}),(e,t)=>{const o=Vue.resolveComponent("a-col"),r=Vue.resolveComponent("a-tree-select"),f=Vue.resolveComponent("a-row"),i=Vue.resolveComponent("a-button"),y=Vue.resolveComponent("a-input-number"),C=Vue.resolveComponent("a-list-item"),w=Vue.resolveComponent("a-list"),L=Vue.resolveComponent("a-spin");return Vue.openBlock(),Vue.createElementBlock("div",E,[Vue.createElementVNode("div",q,[Vue.createVNode(f,{type:"flex",align:"center"},{default:Vue.withCtx(()=>[Vue.createVNode(o,{style:{"margin-right":"8px"}},{default:Vue.withCtx(()=>[Vue.createTextVNode("抽取范围: ")]),_:1}),Vue.createVNode(o,{flex:"auto"},{default:Vue.withCtx(()=>[Vue.createVNode(r,{value:n.value,"onUpdate:value":t[0]||(t[0]=a=>n.value=a),"tree-data":Vue.unref(x),style:{width:"100%"},"tree-checkable":"","allow-clear":"","show-checked-strategy":Vue.unref(antd.TreeSelect).SHOW_PARENT,placeholder:"Please select","tree-node-filter-prop":"label","tree-line":!0},null,8,["value","tree-data","show-checked-strategy"])]),_:1})]),_:1}),Vue.createVNode(f,{type:"flex",align:"center",class:"q-num"},{default:Vue.withCtx(()=>[Vue.createVNode(o,null,{default:Vue.withCtx(()=>[Vue.createTextVNode("题目数量: ")]),_:1}),(Vue.openBlock(),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(g,a=>Vue.createVNode(o,null,{default:Vue.withCtx(()=>[Vue.createVNode(i,{size:"small",onClick:v=>p(a)},{default:Vue.withCtx(()=>[Vue.createTextVNode(Vue.toDisplayString(a),1)]),_:2},1032,["onClick"])]),_:2},1024)),64)),Vue.createVNode(o,null,{default:Vue.withCtx(()=>[Vue.createVNode(i,{size:"small",onClick:t[1]||(t[1]=a=>p(0))},{default:Vue.withCtx(()=>[Vue.createTextVNode("全部")]),_:1})]),_:1}),Vue.createVNode(o,null,{default:Vue.withCtx(()=>[Vue.createVNode(y,{value:u.value,"onUpdate:value":t[2]||(t[2]=a=>u.value=a),min:1},null,8,["value"])]),_:1}),Vue.createVNode(o,null,{default:Vue.withCtx(()=>[Vue.createVNode(i,{type:"primary",size:"large",onClick:t[3]||(t[3]=a=>m())},{default:Vue.withCtx(()=>[Vue.createTextVNode("生成！")]),_:1})]),_:1})]),_:1})]),Vue.createElementVNode("div",I,[Vue.createVNode(k,{value:c.value,"onUpdate:value":t[4]||(t[4]=a=>c.value=a),min:10,max:80,default:28,step:5},null,8,["value"]),Vue.createVNode(i,{type:"link",onClick:t[5]||(t[5]=a=>l.value=!l.value)},{default:Vue.withCtx(()=>[Vue.createTextVNode(Vue.toDisplayString(l.value?"收起":"展开"),1)]),_:1})]),Vue.createElementVNode("div",Q,[Vue.createVNode(L,{class:"",size:"large",spinning:V.value},{default:Vue.withCtx(()=>[Vue.createVNode(w,{"item-layout":"horizontal","data-source":d.value},{renderItem:Vue.withCtx(({item:a,index:v})=>[Vue.createVNode(C,null,{default:Vue.withCtx(()=>[Vue.createElementVNode("h1",{class:"d-item",style:Vue.normalizeStyle({"font-size":c.value+"px"})},Vue.toDisplayString(v+1)+"、"+Vue.toDisplayString(a.q),5)]),_:2},1024)]),_:1},8,["data-source"])]),_:1},8,["spinning"])])])}}});const F=D($,[["__scopeId","data-v-058f71e3"]]);export{F as default};
